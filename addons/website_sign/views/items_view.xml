<?xml version="1.0" encoding="utf-8"?>
<openerp><data>
    <template id="website_sign.items_view" name="Digital Signatures - Items View">
        <form id="sign_doc_items" method="post" t-attf-action="/website_sign/signed/{{signature_request.id}}/{{token}}">
            <div id="signature-field-view">
                <input id="input_signature_request_id" type="hidden" t-att-value="signature_request.id"/>
                <input id="input_attachment_location" type="hidden" t-att-value="'/web/binary/image?model=ir.attachment&amp;field=datas&amp;id=' + str(signature_request.attachment.id)"/>
                <input id="input_field_readonly" type="hidden" t-att-value="readonly"/>
                <input id="input_current_roles" type="hidden" t-att-value="roles"/>

                <div id="canvas-container">
                    <canvas id="canvas-view"/>
                    <t t-foreach="signature_request.signature_items" t-as="item">
                        <t t-if="item.value">
                            <input type="hidden"
                            t-att-data-item-id="item.id"
                            t-att-data-type="item.type"
                            t-att-data-required="item.required"
                            t-att-data-page="item.page"
                            t-att-data-posx="item.posX"
                            t-att-data-posy="item.posY"
                            t-att-data-width="item.width"
                            t-att-data-height="item.height"
                            t-att-data-item-value-text="item.value[0].text_value"
                            t-att-data-item-value-image="item.value[0].image_value"/>
                        </t>
                        <t t-if="not item.value">
                            <input type="hidden"
                            t-att-data-item-id="item.id"
                            t-att-data-type="item.type"
                            t-att-data-required="item.required"
                            t-att-data-page="item.page"
                            t-att-data-posx="item.posX"
                            t-att-data-posy="item.posY"
                            t-att-data-width="item.width"
                            t-att-data-height="item.height"/>
                        </t>
                    </t>
                </div>
            </div>
        </form>

        <div class="modal fade sign_diag" id="sign_diag" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-body">
                    <div class="form-group">
                        <div class="panel panel-default mt16 mb0">
                            <div class="panel-heading">
                                <strong>Draw your signature</strong>
                            </div>
                            <div id="sign" class="sign panel-body" style="padding: 0"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="confirm_sign" data-dismiss="modal" class="btn btn-primary confirm_sign">Sign</button>
                </div>
            </div>
        </div>
    </template>
</data></openerp>
