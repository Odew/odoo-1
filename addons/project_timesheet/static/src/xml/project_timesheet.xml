<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="ProjectTimesheet">
        <div class="container-fluid pt_application">
            <div class="row screens"></div>
        </div>
    </t>
    <!-- tac stuff : -->
    <t t-name="test_screen">
        <h1>Test screen</h1>
    </t>
    <t t-name="activities_screen">
    	<t t-call="header">
    	</t>
    	<div class="pt_activities_screen">
    		<div class="row">
    			<!--"main" section-->
	    		<div class="col-xs-6">
		    		<!--Put time here-->
		    		<a href="javascript:void(0)" class="btn btn-default btn-raised btn-material-cyan pt_test_btn">test</a>
		    	</div>
		    	<div class="col-xs-3">
		    		<!--Start button / stop button-->
		    		<a href="javascript:void(0)" class="btn btn-default btn-raised btn-material-cyan pt_btn_start_activity"><span class="glyphicon glyphicon-play" aria-hidden="true"></span>  Start</a>
				</div>
			</div>
			<!--Rows etc.-->
			<t t-if="widget.account_analytic_lines">
				<t t-foreach="widget.account_analytic_lines" t-as="account_analytic_line">
					<div class="panel">
						<div class="panel-body">
        					<div class="row">
    							<div class="col-xs-7 pt_activity" t-att-data-activity_id="account_analytic_line.id">
    								<t t-if="account_analytic_line.project">
    									<t t-esc="account_analytic_line.project.name"/><br/>
    									<t t-if="account_analytic_line.task">
    							    		<t t-esc="account_analytic_line.task.name"/>
    							    	</t>
    								</t>
                                    <t t-if="!account_analytic_line.project">
                                        <p><small>Select a project</small></p>
                                    </t>
    							</div>
    							<div class="col-xs-1">
    								<div class="row">
    								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
    								</div>
    								<div class="row">
    								<span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
    								</div>
    							</div>
    							<div class="col-xs-2">
                                    <t t-if="account_analytic_line.hours_minutes">
        								<t t-esc="widget.unit_amount_to_hours_minutes(account_analytic_line.unit_amount)"/>
                                    </t>
    							</div>
        					</div>
    					</div>
					</div>
				</t>
			</t>
    	</div>
    </t>

    <t t-name="day_planner_screen">
    	<t t-call="header">
    	</t>
    	<div class="pt_day_planner_screen">
    		<div class="well">
    			What will you be working on today?
    		</div>
    		<div class="container-fluid">
                <t t-if="widget.tasks">
    	    		<t t-foreach="widget.tasks" t-as="task">
        				<div class="row panel pt_day_plan_select" t-att-data-task_id="task.id">
        					<div class="panel-body">
    	    					<div class="col-xs-3 pt_day_plan_selected">
    	    						<!-- Hidden at the moment, should appear dynamically when selected.
    	    						<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
    	    						-->
    	    					</div>
    	    				
    	    					<div class="col-xs-9">
    	    						<div class="row">
    	    							<t t-esc="task.project_name"/>
    	    						</div>
    	    						<div class="row">
    	    							<t t-esc="task.name"/>
    	    						</div>
    	    					</div>
    	    				</div>
        				</div>
                    </t>
	    		</t>
    		</div>
    	</div>
    </t>

	<t t-name="settings_screen">
    	<t t-call="header">
    	</t>
    	<div class="pt_settings_screen container-fluid">
    		<div class="panel">
    			<div class="panel-heading">
	    			<p>Default project</p>
	    		</div>
	    		<div class="panel-body">
	    			<!--For some reason, the dropdown does not work without the following div-->
	    			<div class="col-xs-12">
						<a class="dropdown">
					        <a class="dropdown-toggle pt_selected_default_project" data-toggle="dropdown" href="javascript:void(0)">
					        	<t t-if="widget.settings.default_project">
					            	<t t-esc="widget.settings.default_project.name"/>
					            </t>
					            <t t-if="!widget.settings.default_project">
					            	Select a project
					            </t>
					            <span class="caret"></span>
					        </a>
					        <ul class="dropdown-menu">
                                <li><a href="javascript:void(0)" data-project_id="null" class="pt_default_project">No default project</a></li>
					        	<li><a href="javascript:void(0)">Create project</a></li>
				            	<t t-if="widget.project_timesheet_model">
				            		<t t-foreach="widget.project_timesheet_model.projects" t-as="project">
				            			<li><a href="javascript:void(0)" t-att-data-project_id="project.id" class="pt_default_project"><t t-esc="project.name"/></a></li>
				            		</t>
				            	</t>
					        </ul>
				    	</a>
			    	</div>
		    	</div>
	    	</div>
	    	<div class="col-xs-12">
	    		<div class="row">
    				<p><small>The default project when starting a new timer or adding a new task.</small></p>
    				<div class="progress" style="width: 100%"></div>
    			</div>
    			<div class="row">
    				<p>Minimal duration</p>
    				<div class="input-group">
    					<input type="text" class="pt_minimal_duration" aria-describedby="minutes" t-att-placeholder="widget.settings.minimal_duration"></input>
    					<span class="input-group-addon" id="minutes">minutes</span>
					</div>
    				<p><small>When synchronizing, all durations below the minimal duration will be changed to this value.</small></p>
    				<div class="progress" style="width: 100%"></div>
    			</div>
    			<div class="row">
    				<p>Time unit</p>
    				<div class="input-group">
    					<input type="text" class="pt_time_unit" aria-describedby="minutes" t-att-placeholder="widget.settings.time_unit"></input>
    					<span class="input-group-addon" id="minutes">minutes</span>
					</div>
    				<p><small>When synchronizing, all durations will be rounded up to the higher multiple of this value.</small></p>
    				<div class="progress" style="width: 100%"></div>
    			</div>
	    	</div>
    	</div>
    </t>

    <t t-name="edit_activity_screen">
        <t t-call="header">
        </t>
        <div class="pt_edit_activity_screen container-fluid"> 
                <p>Project</p>
                <!--For some reason, the dropdown does not work without the following div-->
                <div class="row">
                    <div class="col-xs-12">
                        <a class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                                <t t-if="widget.activity.project">
                                    <t t-esc="widget.activity.project.name"/>
                                </t>
                                <t t-if="!widget.activity.project">
                                    Select a project
                                </t>
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="javascript:void(0)" data-toggle="modal" data-target="#pt_project_creator">Create Project</a></li>
                                <t t-if="widget.project_timesheet_model.projects">
                                    <t t-foreach="widget.project_timesheet_model.projects" t-as="project">
                                        <li><a href="javascript:void(0)" t-att-data-project_id="project.id" class="pt_activity_project"><t t-esc="project.name"/></a></li>
                                    </t>
                                </t>
                            </ul>
                        </a>
                    </div>
                </div>
            <!--Dialog box for project creation-->
            <div class="modal fade" id="pt_project_creator" tabindex="-1" role="dialog" aria-labelledby="pt_dialog_label" aria-hidden="true">
               <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="pt_dialog_label">Create a new project</h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" placeholder="Project name" class="pt_new_project_name"></input>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Discard</button>
                            <button type="button" class="btn btn-primary pt_project_create_confirm">Create</button>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <p><br/>Task</p>
                    <t t-if="widget.activity.project">
                        <!--For some reason, the dropdown does not work without the following div-->
                        <div class="row">
                            <div class="col-xs-12">
                                <a class="dropdown">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                                        <t t-if="!widget.activity.task">
                                            Select a Task
                                        </t>
                                        <t t-if="widget.activity.task">
                                            <t t-esc="widget.activity.task.name"/>
                                        </t>
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a href="javascript:void(0)">Create Task</a></li>
                                        <t t-if="widget.tasks">
                                            <t t-foreach="widget.tasks" t-as="task">
                                                <li><a href="javascript:void(0)" t-att-data-task_id="task.id" class="pt_activity_task"><t t-esc="task.name"/></a></li>
                                            </t>
                                        </t>
                                    </ul>
                                </a>
                                <!-- <t t-if="widget.activity.task">
                                    <input type="text" class="form-control pt_selected_task" name="product" list="pt_tasks_list" t-att-value="widget.activity.task.name"/>
                                </t>
                                <t t-if="!widget.activity.task">
                                    <input type="text" class="form-control pt_selected_task" name="product" list="pt_tasks_list" value="Select a Task"/>
                                </t>
                                <datalist id="pt_tasks_list">
                                    <t t-foreach="widget.tasks" t-as="task">
                                        <option t-att-data-task_id="task.id" t-att-value="task.name"><t t-esc="task.name"/></option>
                                    </t>
                                </datalist> -->
                            </div>
                        </div>
                    </t>
                    <t t-if="!widget.activity.project">
                        <p><small>Please select a project first</small></p>
                    </t>
                    <br/>
            </div>
            <div>
                <p>Time spent (hh:mm)</p>
                <t t-if="widget.activity.unit_amount">
                    <input type="text" class="pt_activity_duration" aria-describedby="Time Spent" t-att-value="widget.unit_amount_to_hours_minutes(widget.activity.unit_amount)"></input>
                </t>
                <t t-if="!widget.activity.unit_amount">
                    <input type="text" class="pt_activity_duration" aria-describedby="Time Spent" placeholder="00:00"></input>
                </t>
                <!--Empty p for alert in case of wrong input -->
                <p></p>
            </div>
            <div>
                <p>Work Summary</p>
                <t t-if="widget.activity.desc">
                    <textarea class="pt_description"><t t-esc="widget.activity.desc"/></textarea>
                </t>
                <t t-if="!widget.activity.desc">
                    <textarea class="pt_description"></textarea>
                </t>
            </div>

        </div>
    </t>
    <t t-name="header">
    	<!-- <div class="panel-material-grey"> -->
    		<div class="well">
    	    	<div class="row">
    	    		<div class="col-xs-2">
                        <t t-if="widget.screen_name != 'Edit Activity'">
        	    			<div class="dropdown">
        	    				<a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
        	    				<ul class="dropdown-menu">
        	    					<li><a class="pt_activities_link" href="javascript:void(0)"><div class="icon-preview"><i class="mdi-action-alarm"></i>   Activities </div></a></li>
        	    					<li><a class="pt_day_planner_link" href="javascript:void(0)"><div class="icon-preview"><i class="mdi-notification-event-note"></i>   Day Planner </div></a></li>
        	    					<li><a class="pt_settings_link" href="javascript:void(0)"><div class="icon-preview"><i class="mdi-action-settings"></i>   Settings </div></a></li>
        	    				</ul>
        	    			</div>
                        </t>
                        <t t-if="widget.screen_name == 'Edit Activity'">
                            <a href="javascript:void(0)"><span class="glyphicon glyphicon-arrow-left pt_discard_changes" aria-hidden="true"></span></a>
                        </t>

    	    		</div>
    	    		<div class="col-xs-8">
    	    			<a href="javascript:void(0)"><t t-esc="widget.screen_name"/></a>
    	    		</div>
    	    		<div class="col-xs-2">
    	    			<t t-if="widget.screen_name == 'Activities'">
    						<a href="javascript:void(0)"><span class="glyphicon glyphicon-plus pt_button_plus_activity" aria-hidden="true"></span></a>
    					</t>
                        <t t-if="widget.screen_name == 'Edit Activity'">
                            <a href="javascript:void(0)"><span class="glyphicon glyphicon-ok pt_validate_edit_btn" aria-hidden="true"></span></a>
                        </t>
    					<t t-if="widget.screen_name != 'Activities' and widget.screen_name != 'Edit Activity'">
    						<a href="javascript:void(0)" class="pt_validate_btn"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></a>
    					</t>
	    		</div>
		    </div>
    	</div>    		
    </t>
</templates>