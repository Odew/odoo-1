<?xml version="1.0" encoding="utf-8"?>
<openerp>

<template id="layout" name="Editor layout">&lt;!DOCTYPE html&gt;
    <html t-att-lang="lang and lang.replace('_', '-')"
          t-att-data-editable="'1' if editable else None"
          t-att-data-translatable="'1' if translatable else None"
          t-att-data-main-object="repr(main_object) if editable else None">
        <head>
            <meta charset="utf-8" />
            <title>Odoo Editor layout</title>
            <meta name="viewport" content="initial-scale=1"/>
            <script type="text/javascript">
                var snippets_url = '<t t-esc="snippets or ''"/>';
                var callback = window.location.href.match(/callback=([^&amp;=]+)/)[1];
            </script>
            <link t-if="inline_mode" rel="stylesheet" href="/web_editor/static/src/css/inline.css" type="text/css"/>
            <t t-if="not dont_load_assets">
                <t t-call-assets="web_editor.assets_editor"/>
                <style>.note-popover .popover { left: 5px !important; }</style>
                <script type="text/javascript" src="/web_editor/static/src/js/iframe.js"></script>
                <script t-if="enable_editor and inline_mode" type="text/javascript" src="/web_editor/static/src/js/inline.js"></script>
            </t>
            <script type="text/javascript">
                var snippets_url = '<t t-esc="snippets or ''"/>';
                var callback = window.location.href.match(/callback=([^&amp;=]+)/)[1];
            </script>
            <script>
                if (!window.top.openerp[callback+"_updown"]) {
                    window.top.openerp[callback+"_updown"] = function (value, fields_values) {
                        var editable = document.getElementsByClassName("o_editable")[0];
                        if (value !== editable.innerHTML) {
                            editable.innerHTML = value;
                        }
                    };
                }
            </script>
            <t t-raw="head or ''"/>
        </head>
        <body onload="try{window.top.openerp[callback+'_content']();}catch(e){console.warn('Please don\'t open iframe without the odoo backend');}">
            <div id="wrapwrap">
                <main>
                    <t t-raw="0"/>
                </main>
            </div>
            <t t-raw="add_html or ''"/>
        </body>
    </html>
</template>

<template id="FieldTextHtml" name="Editor HTML">
    <t t-call="web_editor.layout">
        <div class="o_editable"></div>
    </t>
</template>

</openerp>
